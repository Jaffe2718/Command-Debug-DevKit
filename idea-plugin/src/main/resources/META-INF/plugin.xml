<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>me.jaffe2718.devkit</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>Minecraft Command DevKit</name>
    <version>1.0.1</version>
    <idea-version since-build="232.9559.34" until-build="232.*"/>
    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="qqyttwqeei@163.com" url="https://github.com/Jaffe2718">Jaffe2718</vendor>
<!--    <idea-version since-build="202.0" until-build="202.*"/>-->
    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Simple HTML elements (text formatting, paragraphs, and lists) can be added inside of <![CDATA[ ]]> tag.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <description>
        <![CDATA[
            <html>
                <head>
                </head>
                <body>
                    <h1>Minecraft Command Devkit</h1>
                    <h2>Introduction</h2>
                    <p>
                        This plugin is used to debug and edit *.mcfunction with the Minecraft mod Command Debug Service.
                    </p>
                    <h2>Usage</h2>
                    <p>
                        <ol>
                            <li>Install the plugin and mod.</li>
                            <li>Run the game and join a world, then the mod will open a socket server on a random port and show it to you in the chat, there are two socket servers, one is for executing commands, the other is for getting the suggestions of completing commands.</li>
                            <li>Start your IDE and open the Minecraft Function file.</li>
                            <li>Connect to the command execution socket server and the command completion socket server in your IDE's editor.</li>
                            <li>Then you can edit the Minecraft Function file and debug it.</li>
                            <li>You can also execute commands in the game and get the result in your IDE's editor.</li>
                        </ol>
                    </p>
                    <h2>Links</h2>
                    <p>
                        <a href="https://github.com/Jaffe2718/Command-Debug-DevKit">Source Code</a>
                    </p>
                    <p>
                        <a href="https://github.com/Jaffe2718/Command-Debug-DevKit/issues">Issue Tracker</a>
                    </p>
                    <p>
                        To download the latest version of the plugin and mod, please visit the <a href="https://github.com/Jaffe2718/Command-Debug-DevKit/releases">release page</a>.
                    </p>
                </body>
            </html>
        ]]>
    </description>

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <completion.contributor
                language="McFunction"
                implementationClass="me.jaffe2718.devkit.lang.completion.McFunctionCompletionContributor"
        />
        <typedHandler
                implementation="me.jaffe2718.devkit.lang.completion.McFunctionCompleteAutoPopupHandler"
                order="first, before completionAutoPopup"
        />
        <fileEditorProvider implementation="me.jaffe2718.devkit.editor.McFunctionFileEditorProvider"/>
        <fileType
                name="Minecraft Function"
                implementationClass="me.jaffe2718.devkit.filetype.McFunctionFileType"
                fieldName="INSTANCE"
                language="McFunction"
                extensions="mcfunction"
        />
        <lang.parserDefinition
                language="McFunction"
                implementationClass="me.jaffe2718.devkit.lang.McFunctionParserDefinition"
        />
        <lang.syntaxHighlighterFactory
                language="McFunction"
                implementationClass="me.jaffe2718.devkit.lang.syntax.McFunctionSyntaxHighlighterFactory"
        />
        <lang.commenter
                language="McFunction"
                implementationClass="me.jaffe2718.devkit.lang.McFunctionCommenter"
        />
        <notificationGroup displayType="BALLOON" id="me.jaffe2718.devkit.notification" />
    </extensions>
    <actions>
        <action class="me.jaffe2718.devkit.action.NewMcFunctionFileAction">
            <add-to-group group-id="NewGroup" anchor="before" relative-to-action="NewFromTemplate"/>
        </action>
    </actions>
</idea-plugin>