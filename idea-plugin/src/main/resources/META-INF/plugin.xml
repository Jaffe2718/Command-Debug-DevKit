<idea-plugin>
    <id>me.jaffe2718.devkit</id>

    <name>Minecraft Command DevKit</name>
    <version>1.0.4-rc1</version>
    <vendor email="qqyttwqeei@163.com" url="https://github.com/Jaffe2718">Jaffe2718</vendor>
    <description>
        <![CDATA[
            <html>
                <head>
                </head>
                <body>
                    <h1>Minecraft Command Devkit</h1>
                    <br>
                    <div>
                        <h2>Introduction</h2>
                        <p>
                            This plugin is used to debug and edit *.mcfunction files with the Minecraft mod named <a href="https://modrinth.com/mod/command-debug-service">Command Debug Service</a>.
                        </p>
                    </div>
                    <br>
                    <div>
                        <h2>Usage</h2>
                        <li style="list-style-type: decimal">
                            Install both the <a href="https://plugins.jetbrains.com/plugin/22587-minecraft-command-devkit">plugin</a> and the <a href="https://modrinth.com/mod/command-debug-service">mod</a>.
                        </li>
                        <li style="list-style-type: decimal">
                            Run the game and join a world, then the mod will open socket servers
                            on random ports and show them to you in the chat field, there are two socket servers,
                             one is for executing commands, the other is for getting the suggestions of completing commands.
                        </li>
                        <li style="list-style-type: decimal">Start your IDE and open the Minecraft Function file.</li>
                        <li style="list-style-type: decimal">Connect to the command execution socket server and the command completion socket server in your IDE's editor.</li>
                        <li style="list-style-type: decimal">Then you can edit the Minecraft Function file and debug it.</li>
                        <li style="list-style-type: decimal">
                            You can also start the interactive console by starting the tool from <b>Tools -> Minecraft Command Console</b>
                            or by pressing <b>Ctrl + Alt + M</b> (or <b>Command + Alt + M</b> on Mac),
                            then you can send single line commands to the game and get the feedback one by one.
                        </li>
                    </div>
                    <br>
                    <div>
                        <h2>Links</h2>
                        <p>
                            <a href="https://github.com/Jaffe2718/Command-Debug-DevKit">Source Code</a>
                        </p>
                        <p>
                            <a href="https://github.com/Jaffe2718/Command-Debug-DevKit/issues">Issue Tracker</a>
                        </p>
                        <p>
                            To download the latest version of the plugin and mod, please visit the <a href="https://github.com/Jaffe2718/Command-Debug-DevKit/releases">release page</a> or <a href="https://modrinth.com/mod/command-debug-service">Modrinth</a>.
                        </p>
                    </div>
                </body>
            </html>
        ]]>
    </description>
    <depends>com.intellij.modules.platform</depends>
    <extensions defaultExtensionNs="com.intellij">
        <completion.contributor
                language="McFunction"
                implementationClass="me.jaffe2718.devkit.lang.completion.McFunctionCompletionContributor"
        />
        <typedHandler
                implementation="me.jaffe2718.devkit.lang.completion.McFunctionCompleteAutoPopupHandler"
                order="first, before completionAutoPopup"
        />
        <fileType
                name="Minecraft Function"
                implementationClass="me.jaffe2718.devkit.filetype.McFunctionFileType"
                fieldName="INSTANCE"
                language="McFunction"
                extensions="mcfunction"
        />
        <lang.parserDefinition
                language="McFunction"
                implementationClass="me.jaffe2718.devkit.lang.McFunctionParserDefinition"
        />
        <lang.syntaxHighlighterFactory
                language="McFunction"
                implementationClass="me.jaffe2718.devkit.lang.syntax.McFunctionSyntaxHighlighterFactory"
        />
        <lang.commenter
                language="McFunction"
                implementationClass="me.jaffe2718.devkit.lang.McFunctionCommenter"
        />
        <notificationGroup displayType="BALLOON" id="me.jaffe2718.devkit.notification" />
        <fileEditorProvider implementation="me.jaffe2718.devkit.editor.McFunctionFileEditorProvider" order="last"/>
    </extensions>
    <actions>
        <action class="me.jaffe2718.devkit.action.NewMcFunctionFileAction">
            <add-to-group group-id="NewGroup" anchor="before" relative-to-action="NewFromTemplate"/>
        </action>
        <action class="me.jaffe2718.devkit.action.McCommandConsoleAction">
            <keyboard-shortcut keymap="$default"  first-keystroke="control alt M" replace-all="true"/>
            <keyboard-shortcut keymap="Mac OS X" first-keystroke="meta alt M" replace-all="true"/>
            <keyboard-shortcut keymap="Mac OS X 10.5+" first-keystroke="meta alt M" replace-all="true"/>
            <add-to-group group-id="ToolsMenu"/>
        </action>
    </actions>
</idea-plugin>